<!DOCTYPE html>

<head>
    <title>2025 BeastSaber Mapping Awards Submission Form</title>
    <link rel="icon" type="image/x-icon" href="/favicon.png">
    <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<link href="style.css" rel="stylesheet">!-->
    <link href="/judging/style.css" rel="stylesheet">

</head>
<body style="background-color: black;">
    <nav>
        <a class="nav active" href="/judging">Home</a>
        <a class="nav" href="/judging/sort">Sort Submissions</a>
        <a class="nav" href="/judging/judge">Judge Submissions</a>
        <a class="nav" href="/api/counts">Counts (API)</a>
        <a class="nav" href="/finalists">Finalists</a>
        <a class="nav" href="/render">Renderer</a>
        <a class="nav" href="/judging/admin">Admin</a>
        <a class="nav" id="login" href="/api/auth/discord">Login</a>
    </nav>
    <div class="header">
        <h1>2025 BeastSaber Mapping Awards</h1>
        <p>Judge's Homepage</p>
        
    </div>
    <div class="header">
        <h2>Notices & Info</h2>
        <p>Welcome to the Beasties 2025 Judges page! Here you can find links to your specific judge page for each of your categories.  Specific info will be passed along in the BeastSaber discord server as it becomes available.</p>
        <p>Use the navigation bar above to navigate to the different judging pages.</p>
        <p>Remember to log in using the "Login" button in the navigation bar. All pages & endpoints (except this one) are protected behind the judge or sort role. The pages will not work if you do not log in.</p>
    </div>
    <script>
        fetch('/api/auth/judging').then(response => {
            if (response.status == 200) {
               let loginButton = document.getElementById('login');
                loginButton.innerHTML = "Logout";
                loginButton.href = "/api/auth/logout";
                response.json().then(data => {
                    if (data.username) {
                        loginButton.innerText = `Logout (${data.username})`;
                    }
                });
            } else {
                //window.location.href = "/judging";
            }
        });
    </script>
    <script src="/judging/background.js"></script>
</body>